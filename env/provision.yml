---
- hosts: onboard 
  become: yes
  vars:
    - root_db_password: "326"


  tasks:

    - name: add repo for java 8
      apt_repository: repo='ppa:webupd8team/java' state=present
  
    - name: agree to license
      debconf: name='oracle-java8-installer' question='shared/accepted-oracle-license-v1-1' value='true' vtype='select'

    - name: install java 8
      apt: name=oracle-java8-installer state=latest update-cache=yes force=yes
      
    - name: Install basic utils and build envs.
      apt: pkg={{ item }} state=present update_cache=true cache_valid_time=3600
      with_items:
        - build-essential
        - git
        - unzip
        - maven

    - name: Setup hibernate file.
      template: src=templates/hibernate-template.cfg.xml dest=/Onboarding/CoffeeMaker/src/main/resources/hibernate.cfg.xml

